substitutions:
  name: "jk-bms"
  device_name: "powmr-inverter"
  node_name: "PowMr Inverter"
  node_id: powmr_inverter
  inverter_tx_pin: GPIO16
  inverter_rx_pin: GPIO17
  inverter_voltage_offset: "0"
  update_interval: 30s # Minimum 10s recommended to avoid duplicate command errors
  select_skip_updates: "2"
  jk_bms_name: "jk-bms"
  jk_bms_description: "JK-BMS ble"
  external_components_source: github://syssi/esphome-jk-bms@main
  jk_bms_mac_address: "C8:47:80:1F:73:7B"  # Замени на MAC-адрес твоего JK-BMS
  jk_bms_protocol_version: "JK02_32S"

esp32:
  board: nodemcu-32s
  framework:
    type: esp-idf

packages:
  main: !include powmr-bms/main.yaml
  # You can replace next 2 lines with your common configs for all devices
  common_system: !include powmr-bms/common_system.yaml
#  common_sensors: !include powmr-bms/common_sensors.yaml

logger:
  level: WARN
  logs:
    component: ERROR # Fix for issue #4717 "Component xxxxxx took a long time for an operation"

time:
  - platform: homeassistant
    id: hass_time

#web_server:
#  port: 80
#  ota: false


